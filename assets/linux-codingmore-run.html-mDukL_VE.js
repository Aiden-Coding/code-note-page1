import{_ as d,r,o as p,c,a as n,b as e,d as i,w as o,e as s}from"./app-GjP6hEVt.js";const l="/code-note-page1/assets/image-269-4qa5kD-S.png",m="/code-note-page1/assets/image-270-aTQRg1eo.png",g="/code-note-page1/assets/image-271-HS51EEnk.png",_="/code-note-page1/assets/image-272-VKfmn55w.png",v="/code-note-page1/assets/image-273-vVrPjiFp.png",u="/code-note-page1/assets/image-274-PEfRn7Ok.png",h="/code-note-page1/assets/image-275-sQwj95Yi.png",b="/code-note-page1/assets/image-276-jw2_xiL9.png",x="/code-note-page1/assets/image-277-ckmNP5_m.png",w="/code-note-page1/assets/image-278-se2AX2Au.png",A="/code-note-page1/assets/image-279-E9ugCNQQ.png",f="/code-note-page1/assets/image-280-7sgsD-Ol.png",y="/code-note-page1/assets/image-281-Fn8ms4KD.png",N="/code-note-page1/assets/image-282-8OjsV3Sk.png",P="/code-note-page1/assets/image-283-zTFUQJnJ.png",S="/code-note-page1/assets/image-284-4fu_Vw1P.png",k="/code-note-page1/assets/image-285-tUIyrWlA.png",F="/code-note-page1/assets/image-286-uOqETuQA.png",j="/code-note-page1/assets/image-287-_2NKBmjE.png",J="/code-note-page1/assets/image-288-R7Wdj-Wk.png",T="/code-note-page1/assets/image-289-3dHhn6Md.png",B="/code-note-page1/assets/image-290-ejpEfFJs.png",E="/code-note-page1/assets/image-291-WoB88WWF.png",O="/code-note-page1/assets/image-292-dIfv8sJM.png",K="/code-note-page1/assets/image-293-ADWJ15Zt.png",V="/code-note-page1/assets/image-294-xGyNKRuN.png",R="/code-note-page1/assets/image-295-J9vZxxeS.png",H="/code-note-page1/assets/image-296-upoF1IoP.png",Q="/code-note-page1/assets/image-297-adJ0mi0R.png",U="/code-note-page1/assets/image-298-64pu0djb.png",D="/code-note-page1/assets/image-299-U_4PStoG.png",I="/code-note-page1/assets/image-300-890Ku3OM.png",L="/code-note-page1/assets/image-301-ittnOe9u.png",q="/code-note-page1/assets/image-302-lwUA2Ukj.png",M="/code-note-page1/assets/image-303-aDmXeQJ3.png",W="/code-note-page1/assets/image-304-nNJzP2E7.png",$="/code-note-page1/assets/image-305-HPlGLsAv.png",C="/code-note-page1/assets/image-306-FtAlmFAE.png",X="/code-note-page1/assets/image-307-UjntleOj.png",G="/code-note-page1/assets/image-308-cgwZeF_-.png",z="/code-note-page1/assets/image-309-USUF4VOF.png",Y="/code-note-page1/assets/image-310-GQJr5AYu.png",Z="/code-note-page1/assets/image-311-_YvAbLYz.png",ee="/code-note-page1/assets/image-312-rpa4Un8d.png",ne="/code-note-page1/assets/image-313-8-d2Db2r.png",ie="/code-note-page1/assets/image-314-h5q9oVU6.png",te="/code-note-page1/assets/image-315-yb3lcTdf.png",se="/code-note-page1/assets/image-316-QwBtb2RR.png",ae={},oe=n("h2",{id:"äº‘æœåŠ¡å™¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#äº‘æœåŠ¡å™¨","aria-hidden":"true"},"#"),e(" äº‘æœåŠ¡å™¨")],-1),re=s('<p>è¿™æ˜¯ä»å®å¡”é¢æ¿é¦–é¡µçœ‹åˆ°çš„æœåŠ¡å™¨é…ç½®è¯¦æƒ…ã€‚</p><p><img src="'+l+'" alt="Alt text"></p><p>é©¬ä¸Š 618 äº†ï¼Œé˜¿é‡Œäº‘æœåŠ¡å™¨ä¹Ÿå¼€å§‹æ•´æ´»äº†ï¼Œéœ€è¦ç™½å«–çš„å°ä¼™ä¼´å¯ä»¥å…ˆåŠ ç¾¤ã€‚</p><p><img src="'+m+'" alt="Alt text"></p><h2 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> MySQL</h2><p>ç™»å½•å®å¡”é¢æ¿ï¼Œç‚¹å‡»ã€Œæ•°æ®åº“ã€â†’ã€Œæ·»åŠ æ•°æ®åº“ã€ï¼Œå¡«å†™æ•°æ®åº“åï¼Œå®å¡”é¢æ¿ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå’Œæ•°æ®åº“åŒåçš„è´¦å·ï¼Œæ³¨æ„è®¿é—®æƒé™é€‰æ‹©ã€Œæœ¬åœ°æœåŠ¡å™¨ã€ã€‚</p><p><img src="'+g+'" alt="Alt text"></p><p>åœ¨ codingmore æ ç›®ä¸­ç‚¹å‡»ã€Œå¯¼å…¥ã€ã€Œä»æœ¬åœ°ä¸Šä¼ ã€ç¼–ç¨‹å–µçš„æ•°æ®åº“æ–‡ä»¶ã€‚ä¸Šä¼ å®Œæˆåç‚¹å‡»å¯¼å…¥ã€‚</p><p><img src="'+_+'" alt="Alt text"></p><p>DB æ–‡ä»¶æ”¾åœ¨ coding-more/doc ç›®å½•ä¸‹ã€‚</p><p><img src="'+v+'" alt="Alt text"></p><p>å»ºè®®å…ˆåšä¸€æ¬¡å¤‡ä»½ï¼Œç‚¹å‡»ã€Œæ— å¤‡ä»½ã€ã€Œå¤‡ä»½ã€å°±å¯ä»¥å°†æˆ‘ä»¬çš„æ•°æ®åº“æ–‡ä»¶å¤‡ä»½ä¸‹æ¥äº†ï¼Œå¦‚æœåé¢æƒ³æ¢å¤çš„è¯ï¼Œç›´æ¥ç‚¹å‡»ã€Œæ¢å¤ã€å°±å¯ä»¥äº†ã€‚</p><p><img src="'+u+'" alt="Alt text"></p><p>è®°ä½ç”¨æˆ·åï¼Œå¹¶å¤åˆ¶å¯†ç ï¼Œç„¶ååœ¨æ•°æ®åº“æ¡ç›®ä¸­ç‚¹å‡»ã€Œç®¡ç†ã€</p><p><img src="'+h+'" alt="Alt text"></p><p>å¡«å†™ç”¨æˆ·åå’Œå¯†ç åï¼Œç‚¹å‡»æ‰§è¡Œã€‚</p><p><img src="'+b+'" alt="Alt text"></p><p>å°±å¯ä»¥çœ‹åˆ°ç¼–ç¨‹å–µçš„æ•°æ®åº“æ–‡ä»¶äº†ã€‚</p><p><img src="'+x+'" alt="Alt text"></p><h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h2>',20),de=s('<p>å®å¡”é¢æ¿ä¸­å®‰è£… Nginx æ¯”è¾ƒç®€å•ï¼Œç›´æ¥åœ¨è½¯ä»¶å•†åº—ä¸­æœã€ŒNginxã€å°±å¯ä»¥ç‚¹å‡»å®‰è£…äº†ã€‚</p><p><img src="'+w+'" alt="Alt text"></p><h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> Redis</h2><p>å®å¡”é¢æ¿ä¸­å®‰è£… Redis ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥åœ¨è½¯ä»¶å•†åº—ä¸­æœã€ŒRedisã€å°±å¯ä»¥ç‚¹å‡»å®‰è£…äº†ã€‚</p><p><img src="'+A+'" alt="Alt text"></p><h2 id="é¡¹ç›®æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®æ‰“åŒ…" aria-hidden="true">#</a> é¡¹ç›®æ‰“åŒ…</h2><h3 id="_1-codingmore-admin" tabindex="-1"><a class="header-anchor" href="#_1-codingmore-admin" aria-hidden="true">#</a> 1ï¼‰codingmore-admin</h3><p>ç¼–ç¨‹å–µçš„ç®¡ç†åç«¯ï¼Œæ³¨æ„ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒä¸‹çš„ MySQL ç”¨æˆ·åå’Œå¯†ç ï¼Œåœ¨ application-prod.yml æ–‡ä»¶ä¸­ã€‚</p><p><img src="'+f+'" alt="Alt text"></p><p>ç„¶åæŠŠ application.yml æ–‡ä»¶ä¸­çš„ active ä¿®æ”¹ä¸º prod ç”Ÿäº§ç¯å¢ƒã€‚</p><p><img src="'+y+'" alt="Alt text"></p><p>æ›¿æ¢ OSS é…ç½®ã€‚</p><p><img src="'+N+'" alt="Alt text"></p><h3 id="_2-codingmore-web" tabindex="-1"><a class="header-anchor" href="#_2-codingmore-web" aria-hidden="true">#</a> 2ï¼‰codingmore-web</h3><p>ç¼–ç¨‹å–µçš„ Web å‰ç«¯ï¼ˆç½‘ç«™é—¨æˆ·ã€æ–‡ç« å±•ç¤º/æ–‡ç« è¯¦æƒ…ç­‰ï¼‰ï¼Œæ³¨æ„ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒä¸‹çš„ MySQL ç”¨æˆ·åå’Œå¯†ç ï¼Œåœ¨ application-prod.yml æ–‡ä»¶ä¸­ã€‚</p><p><img src="'+P+'" alt="Alt text"></p><p>ç„¶åæŠŠ application.yml æ–‡ä»¶ä¸­çš„ active ä¿®æ”¹ä¸º prod ç”Ÿäº§ç¯å¢ƒã€‚</p><p><img src="'+S+'" alt="Alt text"></p><p>ç„¶åå°±å¯ä»¥åŒå‡» Maven çš„ package æ‰“åŒ…äº†ã€‚</p><p><img src="'+k+'" alt="Alt text"></p><h3 id="_3-codingmore-admin-web" tabindex="-1"><a class="header-anchor" href="#_3-codingmore-admin-web" aria-hidden="true">#</a> 3ï¼‰codingmore-admin-web</h3><p>admin ç®¡ç†ç«¯çš„å‰ç«¯ç•Œé¢ã€‚åœ¨ Visual Studio Code ä¸­ï¼Œç°åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ <code>yarn install</code> å®‰è£…é¡¹ç›®çš„ä¾èµ–æ’ä»¶ã€‚</p><p><img src="'+F+'" alt="Alt text"></p><p>å†æ‰§è¡Œ <code>yarn run build</code> å°±å¯ä»¥æ„å»º codingmore-admin-web çš„é™æ€é¡µé¢äº†ã€‚</p><p><img src="'+j+'" alt="Alt text"></p><p>ä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ª dist ç›®å½•ï¼Œé‡Œé¢å°±æ˜¯æ‰“åŒ…å¥½çš„ç®¡ç†ç«¯é™æ€é¡µé¢ã€‚</p><p><img src="'+J+'" alt="Alt text"></p><p>æ‰“åŒ…çš„æ—¶å€™æœ‰ä¸¤ä¸ªè¦ç‚¹è¦è¡¥å……ä¸‹ï¼Œåœ¨ config ç›®å½•ä¸‹æœ‰ä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼Œdev.env.js æ˜¯å¼€å‘ç¯å¢ƒä¸‹çš„ä¸€äº›é…ç½®ï¼Œindex.js æ˜¯ä¸»é…ç½®ï¼Œprod.env.js æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹çš„é…ç½®ã€‚</p><p>ä¸ºäº†æé«˜ç½‘ç«™çš„æ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­ source mapï¼Œè®¾ç½® <code>productionSourceMap: false</code>ï¼ŒåŒæ—¶å¼€å¯ js å’Œ css çš„æ–‡ä»¶å‹ç¼©åŠŸèƒ½ã€‚</p><p><img src="'+T+'" alt="Alt text"></p><p>è¿™æ ·æ‰“åŒ…åçš„æ–‡ä»¶å¤§å°å°±ä¼šå°å¾ˆå¤šï¼Œæ”¾åˆ°æœåŠ¡å™¨ä¸Šä¹Ÿèƒ½å‡å°‘ç½‘ç»œè¯·æ±‚çš„å“åº”æ—¶é—´ã€‚</p><p>å¯ä»¥çœ‹å¾—å‡ºï¼Œæœ€å¤§çš„ä¸€ä¸ª js æ–‡ä»¶ä¸º 3.7Mï¼Œå‹ç¼©ç‰ˆåªæœ‰ 662kbï¼Œä½“ç§¯ç¼©å°äº†äº”å€ã€‚</p><p><img src="'+B+'" alt="Alt text"></p><h2 id="å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨" aria-hidden="true">#</a> å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨</h2><p>åœ¨å®å¡”é¢æ¿ä¸­ç‚¹å‡»ã€ŒFTPã€ã€Œæ·»åŠ  FTPã€ã€‚</p><p><img src="'+E+'" alt="Alt text"></p><p>ç‚¹å‡»ã€Œæ ¹ç›®å½•ã€</p><p><img src="'+O+'" alt="Alt text"></p><p>è·³è½¬åˆ°æ–‡ä»¶é¡µã€‚</p><p><img src="'+K+'" alt="Alt text"></p><p>ç‚¹å‡»ä¸Šä¼ ï¼Œåœ¨ target ç›®å½•ä¸‹é€‰æ‹©ä¸Šä¼ çš„ä¸¤ä¸ª jar åŒ…ï¼Œadmin å’Œ webã€‚</p><p><img src="'+V+'" alt="Alt text"></p><p>ç‚¹å‡»ã€Œå¼€å§‹ä¸Šä¼ ã€</p><p><img src="'+R+'" alt="Alt text"></p><p>è¿˜æœ‰ codingmore-admin-web çš„é™æ€æ–‡ä»¶ã€‚</p><p><img src="'+H+'" alt="Alt text"></p><h2 id="ä¸€é”®éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#ä¸€é”®éƒ¨ç½²" aria-hidden="true">#</a> ä¸€é”®éƒ¨ç½²</h2><p>åœ¨è½¯ä»¶å•†åº—é‡Œæœã€Œ<strong>Java</strong>ã€å…³é”®å­—ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªã€Œ<strong>Java é¡¹ç›®ä¸€é”®éƒ¨ç½² 3.5</strong>ã€çš„æ’ä»¶ï¼Œå®‰è£…å®ƒã€‚</p><p><img src="'+Q+'" alt="Alt text"></p><p>è¿›å…¥ã€ŒJava é¡¹ç›®ä¸€é”®éƒ¨ç½²ã€é¢æ¿ã€‚</p><p><img src="'+U+'" alt="Alt text"></p><p>å¯ä»¥åœ¨ã€Œå®¹å™¨ç®¡ç†ã€é¢æ¿ä¸­é€‰æ‹© Tomcat 8 å®‰è£…ä¸‹ï¼Œå¦‚æœæ²¡æœ‰å®‰è£… JDKï¼Œåœ¨å®‰è£… Tomcat 8 çš„æ—¶å€™ä¼šé»˜è®¤å®‰è£…ä¸€ä¸ª JDK 1.8ã€‚</p><p><img src="'+D+'" alt="Alt text"></p><p>è¿›å…¥ Spring Boot é¢æ¿ï¼Œç‚¹å‡»ã€Œæ·»åŠ é¡¹ç›®ã€ï¼Œç‚¹å‡»ã€Œé¡¹ç›®è·¯å¾„ã€å³ä¾§çš„æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œå°±å¯ä»¥ä¸Šä¼ éƒ¨ç½²æˆ‘ä»¬çš„ Spring Boot é¡¹ç›®äº†ã€‚</p><p><img src="'+I+'" alt="Alt text"></p><h3 id="codingmore-web-ç½‘ç«™å‰ç«¯" tabindex="-1"><a class="header-anchor" href="#codingmore-web-ç½‘ç«™å‰ç«¯" aria-hidden="true">#</a> codingmore-webï¼ˆç½‘ç«™å‰ç«¯ï¼‰</h3><p>å…ˆé€‰æ‹© codingmore-webã€‚</p><p><img src="'+L+'" alt="Alt text"></p><p>å¡«å†™åŸŸåï¼ˆç¼–ç¨‹å–µçš„åŸŸåä¸º <a href="codingmore.top">codingmore.top</a>ï¼‰ï¼Œä¿®æ”¹ç«¯å£å·ä¸º 8081ï¼Œapplication.yml æ–‡ä»¶ä¸­å®šä¹‰çš„ã€‚</p><p><img src="'+q+'" alt="Alt text"></p><p>ç‚¹å‡»ç¡®å®šã€‚</p><p><img src="'+M+'" alt="Alt text"></p><p>å¯ä»¥çœ‹åˆ°æœåŠ¡å·²ç»åœ¨å¯åŠ¨äº†ï¼Œç‚¹ã€Œæ—¥å¿—ã€çœ‹ä¸€ä¸‹ã€‚</p><p><img src="'+W+'" alt="Alt text"></p><p>æ²¡é—®é¢˜ã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªè·¯å¾„ä¸‹ä½¿ç”¨ç»ˆç«¯å·¥å…·çœ‹æ—¥å¿—ã€‚</p><p><img src="'+$+'" alt="Alt text"></p><p>åœ¨å®‰å…¨é¢æ¿é‡Œç¡®è®¤ä¸€ä¸‹ 8081 ç«¯å£æ˜¯å¦æ”¾å¼€ã€‚</p><p><img src="'+C+'" alt="Alt text"></p><p>ç¡®è®¤æ”¾å¼€åï¼Œæ‰“å¼€ Chrome æµè§ˆå™¨çš„æ— ç—•æ¨¡å¼ï¼Œè¾“å…¥ IP+ç«¯å£å·ã€‚</p><p><img src="'+X+'" alt="Alt text"></p><p>é€šè¿‡åŸŸå+ç«¯å£å·çš„å½¢å¼ä¹Ÿå¯ä»¥è®¿é—®åˆ°ã€‚</p><p><img src="'+G+'" alt="Alt text"></p><h3 id="codingmore-admin-ç½‘ç«™ç®¡ç†ç«¯" tabindex="-1"><a class="header-anchor" href="#codingmore-admin-ç½‘ç«™ç®¡ç†ç«¯" aria-hidden="true">#</a> codingmore-adminï¼ˆç½‘ç«™ç®¡ç†ç«¯ï¼‰</h3><p>å†æ¬¡è¿›å…¥ ã€ŒJava é¡¹ç›®ä¸€é”®éƒ¨ç½²ã€Spring Boot é¢æ¿ä¸­ï¼Œæ·»åŠ  codingmore-admin é¡¹ç›®ã€‚</p><p><img src="'+z+'" alt="Alt text"></p><p>ç¨ç­‰ç‰‡åˆ»ï¼Œæ¥çœ‹ä¸€ä¸‹æ—¥å¿—ã€‚</p><p><img src="'+Y+'" alt="Alt text"></p><p>å¯åŠ¨æ²¡é—®é¢˜ã€‚</p><p>codingmore-admin åªæ˜¯ä¸€ä¸ªåç«¯æœåŠ¡ï¼Œç•Œé¢æ˜¯ç”¨ vue å®Œæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ­¤æ—¶å¯ä»¥é€šè¿‡ Swagger æ¥ç¡®è®¤ä¸€ä¸‹æ¥å£æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®ã€‚</p><p>å…ˆæ”¾è¡Œ 9002 ç«¯å£ã€‚</p><p><img src="'+Z+'" alt="Alt text"></p><p>åœ¨æµè§ˆå™¨åœ°å€æ é‡Œè¾“å…¥ <code>http://www.codingmore.top:9002/doc.html</code>ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨ Knife4j+Swagger ç”Ÿæˆçš„ API æ–‡æ¡£æ¥å£ã€‚</p><p><img src="'+ee+'" alt="Alt text"></p><p>OKï¼Œè¿™æ ·å°±å¯ä»¥éªŒè¯æˆ‘ä»¬çš„ admin ç«¯æœåŠ¡ä¹Ÿæ­£ç¡®è¿è¡Œäº†ã€‚</p><p>éšåï¼Œä¸ºäº†å‡å°‘æœåŠ¡å™¨è¢«æ”»å‡»çš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬å…³æ‰ 9002 çš„ç«¯å£ã€‚</p><h2 id="nginx-é…ç½®" tabindex="-1"><a class="header-anchor" href="#nginx-é…ç½®" aria-hidden="true">#</a> Nginx é…ç½®</h2><h3 id="codingmore-web" tabindex="-1"><a class="header-anchor" href="#codingmore-web" aria-hidden="true">#</a> codingmore-web</h3><p>åŸŸå+ç«¯å£å·è™½ç„¶å¯ä»¥è®¿é—®ï¼Œä½†ä¸å¤Ÿä¼˜é›…ï¼Œæˆ‘ä»¬æƒ³ç›´æ¥è®¿é—®åŸŸå codingmore.topï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>',89),pe=s(`<p>Nginx çš„å®ç°åŸç†æ˜¯ï¼Œç”¨ Nginx ç›‘å¬ 80 ç«¯å£ï¼Œå½“æœ‰ HTTP è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå°† HTTP è¯·æ±‚çš„ HOST ç­‰ä¿¡æ¯ä¸é…ç½®æ–‡ä»¶è¿›è¡ŒåŒ¹é…å¹¶è½¬å‘ç»™å¯¹åº”çš„ç«¯å£ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œå½“ç”¨æˆ·è®¿é—® codingmore.top æ—¶ï¼ŒNginx ä»é…ç½®æ–‡ä»¶ä¸­å¾—çŸ¥è¿™æ˜¯ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œäºæ˜¯å°†æ­¤è¯·æ±‚è½¬å‘ç»™ 8081 ç«¯å£çš„åº”ç”¨å¤„ç†ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upstream codingmore_web_pool{
    server 127.0.0.1:8081;
}

server {
    listen       80;
    server_name  codingmore.top;
    access_log logs/codingmore_web.log;
    error_log logs/codingmore_web.error;
    
    #å°†æ‰€æœ‰è¯·æ±‚è½¬å‘ç»™poolæ± çš„åº”ç”¨å¤„ç†
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://codingmore_web_pool;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯æ‰€è°“çš„ç«¯å£è½¬å‘ï¼Œç”±è½¯ä»¶ç»Ÿä¸€ç›‘å¬æŸä¸ªåŸŸåä¸Šçš„æŸä¸ªç«¯å£ï¼ˆä¸€èˆ¬æ˜¯80ç«¯å£ï¼‰ï¼Œå½“è®¿é—®æœåŠ¡å™¨çš„åŸŸåå’Œç«¯å£ç¬¦åˆè¦æ±‚æ—¶ï¼Œå°±æŒ‰ç…§é…ç½®è½¬å‘ç»™æŒ‡å®šçš„ Tomcat æœåŠ¡å™¨å¤„ç†ã€‚æˆ‘ä»¬å¸¸ç”¨çš„ Nginx ä¹Ÿæœ‰ç«¯å£è½¬å‘åŠŸèƒ½ã€‚</p><p>OKï¼ŒåŸç†äº†è§£å®Œåï¼Œæˆ‘ä»¬æŠŠè¿™æ®µé…ç½®å¤åˆ¶åˆ°å®å¡”é¢æ¿ä¸­çš„ Nginx é…ç½®ä¸­ã€‚</p><p><img src="`+ne+'" alt="Alt text"></p><p>ç‚¹å‡»ã€Œä¿å­˜ã€ã€‚</p>',7),ce={href:"http://www.codingmore.top/",target:"_blank",rel:"noopener noreferrer"},le=s('<p><img src="'+ie+`" alt="Alt text"></p><p>æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬é¡ºå¸¦æŠŠ 8081 ç«¯å£ç»™å…³æ‰ï¼Œå‡å°‘ä¸€ä¸ªæœåŠ¡å™¨è¢«æ”»å‡»çš„å¯èƒ½æ€§ã€‚</p><p>OKï¼Œè¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº† codingmore-web ä¹Ÿå°±æ˜¯ç¼–ç¨‹å–µğŸ±å‰ç«¯çš„æœåŠ¡éƒ¨ç½²äº†ã€‚</p><h3 id="codingmore-admin-web" tabindex="-1"><a class="header-anchor" href="#codingmore-admin-web" aria-hidden="true">#</a> codingmore-admin-web</h3><p>codingmore-admin-web æ‰“åŒ…åçš„æ–‡ä»¶æ˜¯é™æ€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨ Nginx é‡Œæ·»åŠ  admin çš„é…ç½®è·¯å¾„å°± OK äº†ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upstream codingmore_web_pool{
    server 127.0.0.1:8081;
}

server {
    listen       80;
    server_name  codingmore.top;
    access_log /home/www/codingmore_web.log;
    error_log /home/www/codingmore_web.error;

    location /admin {
        alias /www/wwwroot/itwanger/dist/; # æ ¹ç›®å½•
        index index.html;
    }
    
    #å°†æ‰€æœ‰è¯·æ±‚è½¬å‘ç»™poolæ± çš„åº”ç”¨å¤„ç†
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://codingmore_web_pool;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),me={href:"http://codingmore.top/admin",target:"_blank",rel:"noopener noreferrer"},ge=n("code",null,"/www/wwwroot/itwanger/dist/",-1),_e=n("p",null,"è¿™é‡Œè®²ä¸€ä¸‹ root å’Œ alias çš„åŒºåˆ«ï¼š",-1),ve=n("ul",null,[n("li",null,[e("rootï¼šå®é™…è®¿é—®çš„åœ°å€å‰ç¼€æ˜¯ root + è¯·æ±‚çš„ pathè·¯å¾„ï¼Œå³ "),n("code",null,"admin => /www/wwwroot/itwanger/dist/admin")]),n("li",null,[e("alias: å®é™…è®¿é—®çš„å°±æ˜¯ "),n("code",null,"/www/wwwroot/itwanger/dist")])],-1),ue={href:"http://codingmore.top/admin",target:"_blank",rel:"noopener noreferrer"},he=s('<p><img src="'+te+`" alt="Alt text"></p><p>OKã€‚</p><p>ç¼–ç¨‹å–µğŸ±æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œå‰ç«¯çš„è¯·æ±‚å¦‚ä½•è®¿é—®åç«¯çš„ API æ¥å£å‘¢ï¼Ÿç®€å•èŠä¸€ä¸‹ã€‚</p><p>æ‰“å¼€ codingmore-admin-web/config/prod.env.js æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª VUE_APP_BASE_API å±æ€§ï¼Œå®ƒçš„å€¼ä¸º <code>/api</code>ï¼Œä¹Ÿå°±æ„å‘³ç€å‰ç«¯çš„è¯·æ±‚ä¼šå‘é€åˆ° <code>/api</code> è¿™ä¸ªå‰ç¼€è·¯å¾„ä¸‹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;use strict&#39;
module.exports = {
  NODE_ENV: &#39;&quot;production&quot;&#39;,
  VUE_APP_BASE_API: &#39;&quot;/api&quot;&#39;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£æˆ‘ä»¬çš„ codingmore-admin åç«¯æœåŠ¡æ˜¯è·‘åœ¨ 9002 ç«¯å£ä¸‹çš„ï¼Œè¿™å°±æ„å‘³ç€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Nginx ä¸­å¢åŠ ä¸€ä¸ªè·¯å¾„ï¼Œå°† api å‰ç¼€çš„è¯·æ±‚è½¬å‘åˆ° 9002 ä¸‹ã€‚</p><p>OKï¼Œæ¥çœ‹ä¸€ä¸‹å®Œæ•´çš„é…ç½®å†…å®¹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>upstream codingmore_web_pool{
    server 127.0.0.1:8081;
}

upstream codingmore_admin_pool{
    server 127.0.0.1:9002/;
}

server {
    listen       80;
    server_name  codingmore.top;
    access_log /home/www/codingmore_web.log;
    error_log /home/www/codingmore_web.error;

    location /admin {
        alias /www/wwwroot/itwanger/dist/; # æ ¹ç›®å½•
        index index.html;
    }

    location /api/ {
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://codingmore_admin_pool;
    }
    
    #å°†æ‰€æœ‰è¯·æ±‚è½¬å‘ç»™poolæ± çš„åº”ç”¨å¤„ç†
    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://codingmore_web_pool;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>okï¼Œç™»å½• admin ç«¯ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ–‡ç« ç®¡ç†é¡µé¢äº†ã€‚</p><p><img src="`+se+'" alt="Alt text"></p><h2 id="ç½‘ç«™åŸŸå" tabindex="-1"><a class="header-anchor" href="#ç½‘ç«™åŸŸå" aria-hidden="true">#</a> ç½‘ç«™åŸŸå</h2>',11),be={href:"http://www.codingmore.top/admin/",target:"_blank",rel:"noopener noreferrer"},xe={href:"http://www.codingmore.top/admin",target:"_blank",rel:"noopener noreferrer"};function we(Ae,fe){const a=r("RouterLink"),t=r("ExternalLinkIcon");return p(),c("div",null,[oe,n("p",null,[e("æˆ‘ä»¬éœ€è¦ä¸€å°äº‘æœåŠ¡å™¨ï¼Œæˆ‘ä¹‹å‰ç™½å«–è¿‡ä¸€å°ä¸ç‰ˆçš„ï¼Œ1 æ ¸1G å†…å­˜ï¼Œå¹¶ä¸”å·²ç»å®‰è£…äº†å®å¡”é¢æ¿ï¼ˆå®‰è£…æ•™ç¨‹æˆ³"),i(a,{to:"/toBeBetterJavaer/szjy/install-baota-mianban.html"},{default:o(()=>[e("é“¾æ¥ğŸ”—")]),_:1}),e("ï¼‰ã€‚")]),re,n("p",null,[i(a,{to:"/toBeBetterJavaer/nginx/nginx.html"},{default:o(()=>[e("Nginx")]),_:1}),e(" æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç† Web æœåŠ¡å™¨ï¼ŒåŸºæœ¬ä¸Šå°±å˜æˆäº†ä¸€ä¸ªæœåŠ¡å™¨å¿…é¡»å®‰è£…çš„å‰ç½®æ¡ä»¶ä¹‹ä¸€ã€‚")]),de,n("p",null,[e("å¯ä»¥ä½¿ç”¨ "),i(a,{to:"/toBeBetterJavaer/nginx/nginx.html"},{default:o(()=>[e("Nginx")]),_:1}),e(" è¿›è¡Œç«¯å£è½¬å‘ã€‚")]),pe,n("p",null,[e("å†åœ¨æµè§ˆå™¨ä¸­è®¿é—® "),n("a",ce,[e("codingmore.top"),i(t)]),e(" å°±å¯ä»¥è¯·æ±‚åˆ°å†…å®¹äº†ã€‚")]),le,n("p",null,[e("æˆ‘ä»¬åœ¨ server ä¸­å¢åŠ äº†ä¸€ä¸ª admin çš„ locationï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬è®¿é—® "),n("a",me,[e("codingmore.top/admin"),i(t)]),e(" çš„æ—¶å€™ï¼Œå°±å»è¯·æ±‚ "),ge,e(" ç›®å½•ä¸‹çš„é™æ€æ–‡ä»¶ã€‚")]),_e,ve,n("p",null,[e("æ³¨æ„ä¸¤è€…çš„åŒºåˆ«ã€‚æˆ‘ä»¬æ¥è®¿é—®ä¸‹"),n("a",ue,[e("codingmore.top/admin"),i(t)]),e("ï¼š")]),he,n("ul",null,[n("li",null,[e("ç¼–ç¨‹å–µ web ç«¯ï¼š"),n("a",be,[e("www.codingmore.top"),i(t)])]),n("li",null,[e("ç¼–ç¨‹å–µ admin ç«¯ï¼š"),n("a",xe,[e("www.codingmore.top/admin"),i(t)])])])])}const Ne=d(ae,[["render",we],["__file","linux-codingmore-run.html.vue"]]);export{Ne as default};
